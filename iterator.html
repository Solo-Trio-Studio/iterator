<!DOCTYPE html>
<html>
<head>
    <title>Iterator</title>
</head>
<body>
	<h1>Iterator</h1>
    <div id="biz-vis-container" style="width: 100%; height: 400px; background: grey; position: relative; border-radius: 4px; overflow: hidden; cursor: pointer; border: 1px solid #999;"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        const container = document.getElementById('biz-vis-container');
        const scene = new THREE.Scene();
        scene.background = new THREE.Color('grey');
        const camera = new THREE.PerspectiveCamera(45, container.clientWidth / container.clientHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        container.appendChild(renderer.domElement);

        const group = new THREE.Group();
        scene.add(group);

        const dataMap = [
            // PHILOSOPHY (Relativism, Polytheism, Train Trolley Dilemnas)
            { name: "People", color: "#B0E0E6", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Management/Administration, Genesis, onto schools of ideology, 8, How, Coaching Mentoring Consulting, Fame, Naturalistic, Physical, Root, Skeletal, Interface, delta category manifests through Polytheism. The People, Intuitions, Discovery, XXXX, Calmness ðŸ˜¶â€ðŸŒ«ï¸, R, bIIImaj#â™®13#11add#â™®9, Dissociative, Social Justice Movements connection resolves within Train Trolley Dilemnas." },
            { name: "DEI", color: "#FF69B4", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Management/Administration, Genesis, onto schools of ideology, 8, How, Coaching Mentoring Consulting, Fame, Naturalistic, Physical, Root, Skeletal, Interface, delta category manifests through Polytheism. The DEI, Experiences, Initiation, IXXX, Desire ðŸ˜, N, R-5-8, Shizotypal, Basic Human Dignity connection resolves within Train Trolley Dilemnas." },
            { name: "Communication", color: "#708090", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Management/Administration, Genesis, onto schools of ideology, 8, How, Coaching Mentoring Consulting, Fame, Naturalistic, Physical, Root, Skeletal, Interface, delta category manifests through Polytheism. The Communication, Perspectives, Formation, EXXX, Empathic Pain ðŸ˜”, Q, biiimaj#11, Dependent, Civil Rights Advocacy connection resolves within Train Trolley Dilemnas." },
            { name: "Customer", color: "#FF0000", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Management, Investigative, axio schools of ideology, 9, Whose, Other, Wellbeing, Existential, Procreative, Sacral, Reproductive, Stakeholder, low theta category manifests through Polytheism. The Customer, Presuppositions, Analysis, XSXX, Anger ðŸ˜¡, W, IIImaj#â™®13#11add#â™®9, Obsessive-Compulsive, Humanitarian Logistics connection resolves within Train Trolley Dilemnas." },
            { name: "Compliance", color: "#2F4F4F", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Management, Investigative, axio schools of ideology, 9, Whose, Other, Wellbeing, Existential, Procreative, Sacral, Reproductive, Stakeholder, low theta category manifests through Polytheism. The Compliance, Worldviews, Understanding, ISXX, Fear ðŸ˜¨, {space}, R-5-8, Avoidant, Voter Engagement connection resolves within Train Trolley Dilemnas." },
            { name: "Legal", color: "#6B8E23", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Management, Investigative, axio schools of ideology, 9, Whose, Other, Wellbeing, Existential, Procreative, Sacral, Reproductive, Stakeholder, low theta category manifests through Polytheism. The Legal, Paradigms, Requirements, ESXX, Disgust ðŸ¤¢, Y, iii11, Schizotypic, Emergency Crisis Management connection resolves within Train Trolley Dilemnas." },
            { name: "Learning", color: "#FFD700", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Administration, Readiness, epistime schools of ideology, 1, What, Insurance Law, Family, Linguistic, Cultural, Solar Plexus, Digestive, Data/Class, high theta category manifests through Polytheism. The Learning, Arguments, Allocation, XNXX, Satisfaction ðŸ˜Š, A, Imaj#â™®13#11add#â™®9, Antisocial, Animal Rights & Protection connection resolves within Train Trolley Dilemnas." },
            { name: "Strategy", color: "#FF4500", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Administration, Readiness, epistime schools of ideology, 1, What, Insurance Law, Family, Linguistic, Cultural, Solar Plexus, Digestive, Data/Class, high theta category manifests through Polytheism. The Strategy, Thesises, Planning, INXX, Awe ðŸ¤¯, M, R-5-8, Schoid, Legal Justice Reform connection resolves within Train Trolley Dilemnas." },
            { name: "Executive", color: "#FFA500", msg: "The Philosophy, Instinctual, Sensual, Yuan, Morning, Z carrier particle cycle anchors the themes of Relativism, Polytheism, and Train Trolley Dilemnas. This Administration, Readiness, epistime schools of ideology, 1, What, Insurance Law, Family, Linguistic, Cultural, Solar Plexus, Digestive, Data/Class, high theta category manifests through Polytheism. The Executive, Frameworks, Mitigation, ENXX, Excitement ðŸ¥³, K, imaj13omit11min7, Cyclothymic, Political Governance connection resolves within Train Trolley Dilemnas." },

            // ART (Stories, Music, Games)
            { name: "Brand", color: "#A0522D", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Revenue/Purchasing, Model, literary genres, 2, Who, Marketing Photography, Relationships, Interpersonal, Communal, Heart, Circulatory, Deployment, low alpha category manifests through Music. The Brand, Motifs, Prototyping, XXFX, Interest ðŸ§, G, #IV#â™®13#11add#â™®9, Narcissistic, Cultural Heritage & Arts connection resolves within Games." },
            { name: "Trust", color: "#F8F8FF", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Revenue/Purchasing, Model, literary genres, 2, Who, Marketing Photography, Relationships, Interpersonal, Communal, Heart, Circulatory, Deployment, low alpha category manifests through Music. The Trust, Perceptions, Design, IXFX, Surprise ðŸ˜², O, R-5-8, Schizoaffective, Creative Advocacy connection resolves within Games." },
            { name: "Reputation", color: "#E0FFFF", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Revenue/Purchasing, Model, literary genres, 2, Who, Marketing Photography, Relationships, Interpersonal, Communal, Heart, Circulatory, Deployment, low alpha category manifests through Music. The Reputation, Emotions, Implementation, EXFX, Relief ðŸ˜®â€ðŸ’¨, J, #iv13omit5, Substance Abuse, Youth Mentorship connection resolves within Games." },
            { name: "HR", color: "#0000CD", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Purchasing, Audit, performing genres, 3, Whom, Home Improvement Real Estate, Wealth, Bodily-Kinesthetic, Occupational, Throat, Respiratory, User, medium alpha category manifests through Music. The HR, Principles, Validation, XSFX, Sadness ðŸ˜¢, P, VI#â™®13#11add#â™®9, Depressive, Mental Health & Well-being connection resolves within Games." },
            { name: "Accounting", color: "#BC8F8F", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Purchasing, Audit, performing genres, 3, Whom, Home Improvement Real Estate, Wealth, Bodily-Kinesthetic, Occupational, Throat, Respiratory, User, medium alpha category manifests through Music. The Accounting, Styles, Testing, ISFX, Nostalgia ðŸ¥¹, U, R-5-8, Masochistic, Veteran Reintegration connection resolves within Games." },
            { name: "Finance", color: "#DCDCDC", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Purchasing, Audit, performing genres, 3, Whom, Home Improvement Real Estate, Wealth, Bodily-Kinesthetic, Occupational, Throat, Respiratory, User, medium alpha category manifests through Music. The Finance, Feelings, Review, ESFX, Confusion ðŸ¤”, S, vi13omit5, Maladaptive Daydreaming, Early Childhood Development connection resolves within Games." },
            { name: "Storytelling", color: "#F08080", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Revenue, Transfer, visual genres, 4, Why, Finance Accounting, Youthfulness, Musical, Emotional, Third Eye, Nervous, Component, high alpha category manifests through Music. The Storytelling, Elements, Deployment, XNFX, Adoration ðŸ˜, B, iifulldimb13#b11â™®b9, Psychosomatic, Elderly Care connection resolves within Games." },
            { name: "Marketing", color: "#FFC0CB", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Revenue, Transfer, visual genres, 4, Why, Finance Accounting, Youthfulness, Musical, Emotional, Third Eye, Nervous, Component, high alpha category manifests through Music. The Marketing, Pieces, Integration, INFX, Romance ðŸ¥°, D, R-5-8, Histrionic, Food Security & Hunger connection resolves within Games." },
            { name: "Sales", color: "#FFFF00", msg: "The Art, Affective, Significance, Yang, Evening, W+ carrier particle cycle anchors the themes of Stories, Music, and Games. This Revenue, Transfer, visual genres, 4, Why, Finance Accounting, Youthfulness, Musical, Emotional, Third Eye, Nervous, Component, high alpha category manifests through Music. The Sales, Sensations, Release, ENFX, Admiration ðŸ¤©, C, iifulldim11, Self-Defeating, Community Social Services connection resolves within Games." },

            // SCIENCE (Quantum Physics, Joint Cooperatives, Work Mechanisms)
            { name: "Restructuring", color: "#7CFC00", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This R & D/Production, Utility, natural complex systems, 5, When, Software Development Information Technology, Knowledge, Logical-Mathematical, Mental, Crown, Endocrine, Procedural, low beta category manifests through Joint Cooperatives. The Restructuring, Hypotheses, Documentation, XXTX, Joy ðŸ˜„, I, V13#â™®13addâ™®b9, Stress, Medical Innovation connection resolves within Work Mechanisms." },
            { name: "Transformation", color: "#000000", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This R & D/Production, Utility, natural complex systems, 5, When, Software Development Information Technology, Knowledge, Logical-Mathematical, Mental, Crown, Endocrine, Procedural, low beta category manifests through Joint Cooperatives. The Transformation, Observations, Support, IXTX, Horror ðŸ’€, T, R-5-8, Phobia, STEM Research connection resolves within Work Mechanisms." },
            { name: "Growth", color: "#D3D3D3", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This R & D/Production, Utility, natural complex systems, 5, When, Software Development Information Technology, Knowledge, Logical-Mathematical, Mental, Crown, Endocrine, Procedural, low beta category manifests through Joint Cooperatives. The Growth, Facts, Evaluation, EXTX, Boredom ðŸ¥±, L, v13b9omit11, Hypochondriac, Environmental Science connection resolves within Work Mechanisms." },
            { name: "Security", color: "#4B0082", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This R & D, Revision, social complex systems, 6, Which, Design Writing, Career, Intrapersonal, Environmental, Soul, Muscular, Domain, high beta category manifests through Joint Cooperatives. The Security, Axioms, Evolution, XSTX, Entrancement ðŸ˜µâ€ðŸ’«, E, bII#â™®13#11add#â™®9, Sadistic, Higher Education & Academia connection resolves within Work Mechanisms." },
            { name: "Information", color: "#EEE8AA", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This R & D, Revision, social complex systems, 6, Which, Design Writing, Career, Intrapersonal, Environmental, Soul, Muscular, Domain, high beta category manifests through Joint Cooperatives. The Information, Theories, Feedback, ISTX, Anxiety ðŸ˜¬, H, R-5-8, Autistic, Economic Theory & Policy connection resolves within Work Mechanisms." },
            { name: "Technology", color: "#D2691E", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This R & D, Revision, social complex systems, 6, Which, Design Writing, Career, Intrapersonal, Environmental, Soul, Muscular, Domain, high beta category manifests through Joint Cooperatives. The Technology, Logic, Optimization, ESTX, Craving ðŸ¤¤, F, bii11, Deficit Inattentive, Urban Planning & Sustainability connection resolves within Work Mechanisms." },
            { name: "Supply Chain", color: "#FF7F50", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This Production, Endurance, formal complex systems, 7, Where, Events Operations, Travel, Spatial, Spiritual, Spirit, Integumentary, Architectural, gamma category manifests through Joint Cooperatives. The Supply Chain, Theorems, Maintenance, XNTX, Amusement ðŸ˜‚, V, VII#â™®13#11add#â™®9, Borderline, Public Health Systems connection resolves within Work Mechanisms." },
            { name: "Sustainability", color: "#DB7093", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This Production, Endurance, formal complex systems, 7, Where, Events Operations, Travel, Spatial, Spiritual, Spirit, Integumentary, Architectural, gamma category manifests through Joint Cooperatives. The Sustainability, Proofs, Enhancement, INTX, Awkwardness ðŸ˜³, Z, R-5-8, Deficit Hyperactive, Sustainable Technology connection resolves within Work Mechanisms." },
            { name: "Operations", color: "#E6E6FA", msg: "The Science, Cognitive, Self-Preservation, Yin, Night, W- carrier particle cycle anchors the themes of Quantum Physics, Joint Cooperatives, and Work Mechanisms. This Production, Endurance, formal complex systems, 7, Where, Events Operations, Travel, Spatial, Spiritual, Spirit, Integumentary, Architectural, gamma category manifests through Joint Cooperatives. The Operations, Datum, Upgrade, ENTX, Aesthetic Appreciation ðŸ˜Œ, X, viib13omit9, Eating Disorders, Workforce Development connection resolves within Work Mechanisms." }
        ];

        const segments = 27;
        const radTop = 11;
        const radBottom = 4;
        const height = 15;

        dataMap.forEach((data, i) => {
            const a1 = (i / segments) * Math.PI * 2;
            const a2 = ((i + 1) / segments) * Math.PI * 2;
            const mid = (a1 + a2) / 2;

            const geo = new THREE.BufferGeometry();
            const v = new Float32Array([
                radBottom * Math.cos(a1), -height / 2, radBottom * Math.sin(a1),
                radBottom * Math.cos(a2), -height / 2, radBottom * Math.sin(a2),
                radTop * Math.cos(a2), height / 2, radTop * Math.sin(a2),
                radBottom * Math.cos(a1), -height / 2, radBottom * Math.sin(a1),
                radTop * Math.cos(a2), height / 2, radTop * Math.sin(a2),
                radTop * Math.cos(a1), height / 2, radTop * Math.sin(a1)
            ]);
            geo.setAttribute('position', new THREE.BufferAttribute(v, 3));
            geo.computeVertexNormals();

            const mesh = new THREE.Mesh(geo, new THREE.MeshPhongMaterial({ color: data.color, side: THREE.DoubleSide, flatShading: true }));
            mesh.userData = data;
            group.add(mesh);

            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 512; canvas.height = 128;
            ctx.font = 'Bold 52px Arial';
            ctx.textAlign = 'center';
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 10;
            ctx.strokeText(data.name, 256, 80);
            ctx.fillStyle = 'DimGray';
            ctx.fillText(data.name, 256, 80);

            const tex = new THREE.CanvasTexture(canvas);
            const sprite = new THREE.Sprite(new THREE.SpriteMaterial({ map: tex }));
            sprite.position.set(radTop * 1.25 * Math.cos(mid), height / 2 + 1.2, radTop * 1.25 * Math.sin(mid));
            sprite.scale.set(6, 1.5, 1);
            group.add(sprite);
        });

        const light = new THREE.PointLight(0xffffff, 1.5, 200);
        light.position.set(20, 25, 20);
        scene.add(light);
        scene.add(new THREE.AmbientLight(0xffffff, 0.9));
        camera.position.set(0, 10, 36);

        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        container.addEventListener('click', (e) => {
            const rect = container.getBoundingClientRect();
            mouse.x = ((e.clientX - rect.left) / container.clientWidth) * 2 - 1;
            mouse.y = -((e.clientY - rect.top) / container.clientHeight) * 2 + 1;
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(group.children);
            const found = intersects.find(o => o.object.type === "Mesh");
            if (found) alert(found.object.userData.msg);
        });

        function animate() {
            requestAnimationFrame(animate);
            group.rotation.y -= 0.003;
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>
